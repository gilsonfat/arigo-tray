import{j as t,r as f,b as w}from"./index-JjGluSb1.js";const{ipcRenderer:y}=window.electron,s=(e,...r)=>(console.log(`Invocando canal IPC: ${e}`,r),y.invoke(e,...r).then(a=>((e==="create-task"||e==="update-task")&&console.log(`Resultado de ${e}:`,a),a)).catch(a=>{throw console.error(`Erro ao invocar ${e}:`,a),a})),C=()=>s("get-connections"),N=e=>s("create-connection",e),$=(e,r)=>s("update-connection",e,r),L=e=>s("delete-connection",e),z=e=>s("test-connection",e),E=e=>s("diagnose-connection",e),M=()=>s("get-odbc-drivers"),T=()=>s("get-queries"),q=e=>s("get-query",e),Q=e=>s("create-query",e),B=(e,r)=>s("update-query",e,r),D=e=>s("delete-query",e),A=(e,r)=>(console.log("[ipcApi] Testando consulta SQL:",e,"na conexão ID:",r),y.invoke("test-query",e,r)),P=e=>s("execute-query",e),W=()=>s("get-tasks"),F=e=>(console.log("[ipcApi] Enviando dados para criar tarefa:",e),s("create-task",e)),R=(e,r)=>(console.log("[ipcApi] Enviando dados para atualizar tarefa:",e,r),s("update-task",e,r)),V=e=>s("delete-task",e),S=e=>s("execute-task",e),b=({children:e,variant:r="primary",size:a="md",type:u="button",onClick:m,disabled:i,className:c="",isLoading:l=!1,leftIcon:g=null,rightIcon:d=null,title:x=""})=>{const o="font-medium rounded focus:outline-none focus:ring-2 transition duration-150 ease-in-out",n={primary:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-300 text-white",secondary:"bg-gray-200 hover:bg-gray-300 focus:ring-gray-200 text-gray-800",success:"bg-green-600 hover:bg-green-700 focus:ring-green-300 text-white",danger:"bg-red-600 hover:bg-red-700 focus:ring-red-300 text-white",warning:"bg-yellow-500 hover:bg-yellow-600 focus:ring-yellow-300 text-white",info:"bg-sky-500 hover:bg-sky-600 focus:ring-sky-300 text-white",icon:"bg-transparent hover:bg-gray-100 text-gray-700 focus:ring-gray-200"},h={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-2.5 text-lg"},p=!e&&(g||d)?"p-2":"";return t.jsx("button",{type:u,onClick:m,disabled:i||l,title:x,className:`
        ${o}
        ${n[r]||n.primary}
        ${h[a]}
        ${p}
        ${i||l?"opacity-60 cursor-not-allowed":""}
        ${c}
        inline-flex items-center justify-center shadow-sm hover:shadow min-w-[2.5rem]
      `,children:l?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processando..."]}):t.jsxs(t.Fragment,{children:[g&&t.jsx("span",{className:`mr-2 ${e?"":"m-0"}`,children:g}),e,d&&t.jsx("span",{className:`ml-2 ${e?"":"m-0"}`,children:d})]})})},v=({isOpen:e,onClose:r,title:a,children:u,size:m="md",showFooter:i=!0,footerContent:c,preventClose:l=!1})=>{f.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),f.useEffect(()=>{const o=n=>{n.key==="Escape"&&!l&&r()};return e&&window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)}},[e,r,l]);const g={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"};if(!e)return null;const d=o=>{o.target===o.currentTarget&&!l&&r()},x=t.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto bg-black bg-opacity-50 flex items-center justify-center p-4",onClick:d,"aria-modal":"true",role:"dialog",children:t.jsxs("div",{className:`bg-white rounded-lg shadow-xl w-full ${g[m]} transform transition-all`,onClick:o=>o.stopPropagation(),children:[t.jsxs("div",{className:"flex justify-between items-center border-b px-6 py-4",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:a}),!l&&t.jsxs("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-300",children:[t.jsx("span",{className:"sr-only",children:"Fechar"}),t.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})]}),t.jsx("div",{className:"px-6 py-4 max-h-[70vh] overflow-y-auto",children:u}),i&&t.jsxs("div",{className:"border-t px-6 py-4 flex justify-end space-x-3 bg-gray-50 rounded-b-lg",children:[c,!c&&t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-300",children:"Cancelar"}),t.jsx("button",{type:"submit",form:"modal-form",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-300",children:"Confirmar"})]})]})]})});return w.createPortal(x,document.body)},H=({type:e="info",message:r,showIcon:a=!0,onClose:u,autoClose:m=!0,autoCloseTime:i=5e3,className:c=""})=>{const[l,g]=f.useState(!0),d=()=>{g(!1),u&&setTimeout(u,150)};f.useEffect(()=>{let n;return m&&(n=setTimeout(()=>{d()},i)),()=>{n&&clearTimeout(n)}},[m,i]);const x={success:{bgColor:"bg-green-50",borderColor:"border-green-400",textColor:"text-green-800",iconColor:"text-green-400",icon:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})},error:{bgColor:"bg-red-50",borderColor:"border-red-400",textColor:"text-red-800",iconColor:"text-red-400",icon:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})},warning:{bgColor:"bg-yellow-50",borderColor:"border-yellow-400",textColor:"text-yellow-800",iconColor:"text-yellow-400",icon:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})},info:{bgColor:"bg-blue-50",borderColor:"border-blue-400",textColor:"text-blue-800",iconColor:"text-blue-400",icon:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}},o=x[e]||x.info;return l?t.jsx("div",{className:`border-l-4 p-4 rounded-r-md transition-opacity duration-150 ease-in-out ${o.bgColor} ${o.borderColor} ${o.textColor} ${c}`,role:"alert",children:t.jsxs("div",{className:"flex items-start",children:[" ",a&&t.jsxs("div",{className:"flex-shrink-0 mt-0.5",children:[" ",t.jsx("svg",{className:`h-5 w-5 ${o.iconColor}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.icon})]}),t.jsxs("div",{className:"ml-3 flex-1",children:[" ",t.jsx("p",{className:"text-sm font-medium",children:r})]}),u&&t.jsx("div",{className:"ml-auto pl-3",children:t.jsxs("button",{type:"button",onClick:d,className:`-mx-1.5 -my-1.5 inline-flex h-8 w-8 items-center justify-center rounded-md p-1.5 ${o.textColor} hover:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-offset-2 ${o.bgColor==="bg-white"?"focus:ring-offset-gray-50":`focus:ring-offset-${o.bgColor.split("-")[1]}-50`} focus:${o.borderColor}`,"aria-label":"Dismiss",children:[t.jsx("span",{className:"sr-only",children:"Fechar"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})}):null},G=({isOpen:e,title:r="Confirmar",message:a="Tem certeza que deseja realizar esta ação?",confirmLabel:u="Confirmar",cancelLabel:m="Cancelar",onConfirm:i,onCancel:c,variant:l="primary"})=>{const g=()=>{switch(l){case"danger":return"bg-red-50 text-red-700 border-red-200";case"warning":return"bg-yellow-50 text-yellow-700 border-yellow-200";default:return"bg-blue-50 text-blue-700 border-blue-200"}},d=()=>{switch(l){case"danger":return"danger";case"warning":return"warning";default:return"primary"}},x=n=>{n.preventDefault(),n.stopPropagation(),typeof i=="function"&&i()},o=n=>{n.preventDefault(),n.stopPropagation(),typeof c=="function"&&c()};return t.jsxs(v,{isOpen:e,onClose:c,title:r,footer:!1,size:"sm",children:[t.jsx("div",{className:`p-4 border rounded ${g()} mb-6`,children:t.jsx("p",{children:a})}),t.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[t.jsx(b,{variant:"secondary",onClick:o,className:"min-w-[6rem]",children:m}),t.jsx(b,{variant:d(),onClick:x,className:"min-w-[6rem] font-medium",children:u})]})]})};export{H as A,b as B,G as C,v as M,C as a,L as b,N as c,E as d,A as e,T as f,M as g,B as h,Q as i,D as j,P as k,q as l,W as m,S as n,R as o,F as p,V as q,z as t,$ as u};
